// Render Form
$('#campaign-post-container').hide().after("<%= escape_javascript(render(partial: 'posts/new')) %>");
$('.share-button-container').hide().after("<%= escape_javascript(render(partial: 'campaigns/back_link')) %>");

$(".back-campaign-link").on('click', function(e) {

  // Remove form and show campaign
  $('#campaign-post-container').show();
  $('#new-post-form').remove();

  // Remove back link and show share button
  $('.back-campaign-container').remove();
  $('.share-button-container').show();

  // Run animations and prevent default button
  runAnimations('#campaign-post-container', '', 'fadeInUp');
  e.preventDefault();

});

// Run New Post Form Animation
runAnimations('#new-post-form', '', 'fadeInLeft');

// Form Image Selection
initImageSelection();

// Trigger Profile Image Modal Form
$('.trigger-user-image-upload').on('click', function(e) {
  e.preventDefault();
});

$('#user-share-image-modal').modal('attach events', '.trigger-user-image-upload', 'show');

// Select last uploaded image if available
if ($('.selectable-image').size() > 0) {
  $('.selectable-image').last().click();
};